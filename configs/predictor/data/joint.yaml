defaults:
  - defaults

# data split configurations

 # history trajectory starts at this frame for each training dataset
 # Note, starting frame should depend on past_len + future_len and dataset defined "current_time_step" if applicable
 # nuscenes: 2s history, 6s prediction, 10s total = 19
 # av2: 5s history, 6s prediction, 11s total = 49
 # waymo: 1s history, 1 current, 8s prediction, 9.1s total = 9
 # nuplan: n.d. history, n.d. prediction, 15s total = 49 self-selected

train:
  splits: ["all"]
  starting_frames: [0]
  filter:
    sample_num: null # as percentage <=1.0 or as multiples of data_chunk_size for each training dataset
    ego_track_difficulty: null
    ego_track_types: null
    center_track_difficulty: null
    center_object_types: null
    center_track_types: null
  tracks_to_predict: 
    selection: ["smart"] # either ego, official, kalman or all

val:
  splits: ["all"]
  starting_frames: [0]
  filter:
    sample_num: null # as percentage <=1.0 or as multiples of data_chunk_size for each training dataset
    ego_track_difficulty: null
    ego_track_types: null
    center_track_difficulty: null
    center_object_types: null
    center_track_types: null
  tracks_to_predict: 
    selection: ["official"] # either ego, official, kalman or all

test:
  splits: ["all"]
  starting_frames: [0]
  filter:
    sample_num: null # as percentage <=1.0 or as multiples of data_chunk_size for each training dataset
    ego_track_difficulty: null
    ego_track_types: null
    center_track_difficulty: null
    center_object_types: null
    center_track_types: null
  tracks_to_predict: 
    selection: ["official"] # either ego, official, kalman or all

predict:
  splits: ["all"]
  starting_frames: [0]
  filter:
    sample_num: null # as percentage <=1.0 or as multiples of data_chunk_size for each training dataset
    ego_track_difficulty: null
    ego_track_types: null
    center_track_difficulty: null
    center_object_types: null
    center_track_types: null
  tracks_to_predict: 
    selection: ["official"] # either ego, official, kalman or all

past_len: 11 # 0.1s sampling frequency (10Hz) (including current time frame)
future_len: 80 # 0.1s sampling frequency (10Hz)

track_deg: 2
fut_deg: 6
mapel_deg: 3

token_size: 2048
map_range: 300

# caching related
cache_metadata: ["scenario_id", "dataset_split", "ego_track_difficulty", "ego_track_type"]
cache_chunk_size: 4
# loading
bucket_size: 1

# tracks_to_predict options:
tracks_to_predict:
  min_track_difficulty: 1.0 # optional, if tracks_to_predict selection is "kalman"
  max_distance_to_ego: 150.0 # minimum max distance across all timestamps
  max_num_agents: 32 # total
  allowed_object_types: [ 'VEHICLE', 'PEDESTRIAN', 'CYCLIST'] # cached train mask

#paths.cache_root: "/app/data/scenarionet/caches/cache_smart/" 